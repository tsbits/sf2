var Villani=function(){};Villani.degreeToRadian=function(n){return n*Math.PI/180},Villani.radianToDegree=function(n){return 180*n/Math.PI},Villani.average=function(n){for(var t=0,i=0;i<n.length;i++)t+=n[i];return t/=n.length},Villani.range=function(n,t){return Math.random()*(t-n)+n},Villani.distanceBetween=function(n,t){var i=0,a=0;return i=t.x-n.x,i*=i,a=t.y-n.y,a*=a,Math.sqrt(i+a)},Villani.pointInCircle=function(n,t,i){var a=!1;return Math.abs(this.distanceBetween(n,t))<=i&&(a=!0),a},Villani.collisionCicleRect=function(n,t){var i=Math.abs(n.x-t.x),a=Math.abs(n.y-t.y);if(i>t.width/2+n.radius)return!1;if(a>t.height/2+n.radius)return!1;if(i<=t.width/2)return!0;if(a<=t.height/2)return!0;var r=i,e=a;return r*r+e*e<=n.radius*n.radius},Villani.smoothPath=function(n,t,i,a){t="undefined"!=typeof t?t:.5,i=i?i:!1,a=a?a:16;var r,e,h,u,l,o,f,s,c,y,g,p,M,d=[],w=[];for(d=n.slice(0),i?(d.unshift(d[d.length-1]),d.unshift(d[d.length-2]),d.unshift(d[d.length-1]),d.unshift(d[d.length-2]),d.push(d[0]),d.push(d[1])):(d.unshift(d[1]),d.unshift(d[0]),d.push(d[d.length-2]),d.push(d[d.length-1])),M=2;M<d.length-4;M+=2)for(p=0;a>=p;p++)h=(d[M+2]-d[M-2])*t,u=(d[M+4]-d[M])*t,l=(d[M+3]-d[M-1])*t,o=(d[M+5]-d[M+1])*t,g=p/a,f=2*Math.pow(g,3)-3*Math.pow(g,2)+1,s=-(2*Math.pow(g,3))+3*Math.pow(g,2),c=Math.pow(g,3)-2*Math.pow(g,2)+g,y=Math.pow(g,3)-Math.pow(g,2),r=f*d[M]+s*d[M+2]+c*h+y*u,e=f*d[M+1]+s*d[M+3]+c*l+y*o,w.push(r),w.push(e);return w},Villani.pointInPolygon=function(n,t){for(var i=!1,a=-1,r=n.length,e=r-1;++a<r;e=a)(n[a].y<=t.y&&t.y<n[e].y||n[e].y<=t.y&&t.y<n[a].y)&&t.x<(n[e].x-n[a].x)*(t.y-n[a].y)/(n[e].y-n[a].y)+n[a].x&&(i=!i);return i},Villani.normalise=function(n,t,i){return(value-t)/(i-t)};